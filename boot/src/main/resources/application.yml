spring:
  profiles:
    active: local
  kafka:
    enabled: false  # 기본값은 false로 설정
    consumer:
      group-id: exchange-group    # 모든 환경에서 공통으로 사용할 group-id

server:
  port: 8080

# 공통 설정
exchange:
  connection:
    max-retry-attempts: 3
    reconnect-delay: 1000      # 1초
    connection-timeout: 30000   # 30초
  websocket:
    binance: wss://stream.binance.com:9443/ws
    upbit: wss://api.upbit.com/websocket/v1
    bithumb: wss://pubwss.bithumb.com/pub/ws
  common:
    supported-symbols:
      - BTC
      - ETH
      - XRP
      - DOGE
  exchanges:
    binance:
      supported-currencies:
        - USDT
        - BTC
    upbit:
      supported-currencies:
        - KRW
        - BTC
        - USDT
    bithumb: 
      supported-currencies:
        # 빗썸은 KRW 만 지원한다네;;;
        - KRW    
        # - BTC
        # - USDT

app:
  websocket:
    allowed-origins: ${WEBSOCKET_ALLOWED_ORIGINS:*}
    connection:
      max-retry-attempts: 3
      reconnect-delay: 1000
      connection-timeout: 5000
  kafka:
    topic:
      trades: exchange.trades     # 거래 데이터용 토픽
      leader: exchange.leader     # 리더 선출용 토픽
    leader:
      partition: 0               # 리더 선출용 파티션 번호


logging:
  level:
    root: INFO
    org.apache.kafka: ERROR  # DEBUG로 설정하면 DEBUG, INFO, WARN, ERROR 모두 볼 수 있음
    # com.example.boot.exchange.layer3_data_converter.service.ExchangeDataIntegrationServiceImpl: DEBUG  # 디버그 로그 유지
    # com.example.boot.exchange.layer3_data_converter.converter: DEBUG  # 컨버터는 INFO만
    # com.example.boot.web.websocket.handler.FrontendWebSocketHandler: DEBUG  # 웹소켓은 INFO만      

---
# 로컬 개발 환경
spring:
  config:
    activate:
      on-profile: local
  kafka:
    enabled: true  # 로컬 테스트를 위해 활성화
    bootstrap-servers: localhost:9092

---
# Docker Compose 환경
spring:
  config:
    activate:
      on-profile: docker
  kafka:
    enabled: true
    bootstrap-servers: kafka:9092

---
# EKS 운영 환경
spring:
  config:
    activate:
      on-profile: prod
  kafka:
    enabled: true
    bootstrap-servers: ${KAFKA_SERVERS}  # K8s Service DNS로 접근

app:
  websocket:
    allowed-origins: https://*.yourdomain.com



